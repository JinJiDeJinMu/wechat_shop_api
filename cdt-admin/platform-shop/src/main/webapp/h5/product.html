<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>未名严选产品溯源服务平台</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="/js/babel.min.js"></script>
    <script src="/statics/libs/vue.min.js"></script>
    <script src="/statics/elementui/index.js"></script>
    <link rel="stylesheet" href="/statics/elementui/index.css"/>
    <script src="/statics/libs/jquery.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font: 86.5% Times;
            color: #333;
            font: 75% Verdana, Arial, Helvetica, sans-serif;
        }

        td {
            padding: 1px 3px;
        }

        #into table {
            border-collapse: collapse;
        }

        .firsttd {
            text-align: right;
            font-weight: bold;
            color: #369;
            padding: 3px 0;
        }

        #info tr > td:first-child {
            min-width: 120px;
        }

        p {
            margin: 3px 0;
        }

        button {
            background: #3079ed;
            color: white;
            padding: 5px;
            border: 0;
            -webkit-border-radius: 2px;
        }

        #head {
            margin-bottom: 4px;
            background: #ddd;
            text-align: center;
        }

        #head > * {
            display: inline-block;
        }

        #head h1 {
            font-size: 18px;
        }

        #container > div {
            margin: 5px;
        }

        #msg {
            text-align: center;
            font-weight: bold;
        }

        #foot {
            text-align: center;
            border-top: 1px solid #ccc;
            padding-top: 15px;
        }

        #active {
            background: #ddd;
            padding: 10px;
        }

        h1 {
            font: 125% Arial, Helvetica, sans-serif;
            text-align: left;
            font-weight: bolder;
            background: #2c7a0b;
            padding: 3px;
            display: block;
            color: #FFF
        }

        .redh1 {
            font: 125% Arial, Helvetica, sans-serif;
            text-align: left;
            font-weight: bolder;
            background: #D07342;
            padding: 3px;
            display: block;
            color: #FFF
        }

        .class1 {
            background: #FFF;
            position: relative;
            margin: 0 auto;
            padding: 5px;
        }

        span {
            position: absolute;
            right: 10px;
            top: 8px;
            cursor: pointer;
            color: yellow;
        }

        p {
            text-align: left;
            line-height: 20px;
            background: #2c7a0b;
            padding: 3px;
            margin-top: 5px;
            color: #FFF
        }

        #class4content, #class1content, #class2content, #class3content {
            display: block;
        }
    </style>
</head>
<body>

<div id="container">
    <div id="head">
        <img src="/images/birdnest/logo-small2.png" height="40"/>
    </div>
    <div id="msg" align="centerright: auto;text-align: center;">
        <span style="color: red; right: auto; text-align: center; top: auto;"><font>溯源标签无效！请谨慎购买！</font></span>
        <span
                style="color: green; right: auto; text-align: center; top: auto;"></span>

    </div>

    <div id="info">
        <div class="class1">

            <h1 class="redh1"> 产品信息 </h1>

            <span id="stateBut" onClick="$use('class1content','stateBut')">-&nbsp;收缩</span>
            <!-- 收缩 -->
            <table id="class1content">
                <tr>
                    <td colspan="2"
                        style="padding: 5px; text-align: center; background: #fff;">
                        <a href="/picShowFile.do?fileName=2019_10_04_20_32_31_45470484.jpg,"
                           target="_blank"> <img
                                src="/picShowFile.do?fileName=2019_10_04_20_32_31_45470484.jpg,"
                                width="200" height="200"/></a>
                    </td>
                </tr>
                <tr>
                    <td class="firsttd">产品名称：</td>
                    <td>小仙炖鲜炖燕窝-100g</td>
                </tr>
                <tr>
                    <td class="firsttd">产地：</td>
                    <td>河北省廊坊市（原料产地：印尼）</td>
                </tr>
                <tr>
                    <!--净含量  -->
                    <td class="firsttd">
                        净含量 ：
                    </td>
                    <td> 100g
                    </td>
                </tr>
                <tr>
                    <td class="firsttd">生产日期 ：</td>
                    <td>2019年11月12日</td>
                </tr>
                <tr>
                    <td class="firsttd"> 保质期：</td>
                    <td>15天</td>
                </tr>
                <tr>
                    <td class="firsttd">存储条件：</td>
                    <td>0-4℃冷鲜保存</td>
                </tr>
                <tr>
                    <td class="firsttd">平台批次号：</td>
                    <td>6200_20191112232942165</td>
                </tr>
                <tr>
                    <td class="firsttd">产品简介：</td>
                    <td>
                        小仙炖鲜炖燕窝100g配料：水，燕窝，冰糖。选用印度尼西亚森林雨季溯源燕窝，经过38分钟95℃低温炖煮，确保营养不被破坏。炖煮过程360°旋转180次模拟手工炖煮，口感更佳。0添加，保质期15天，当天炖煮、冷鲜配送。
                    </td>
                </tr>
                <tr>
                    <td class="firsttd">产品访问次数：</td>
                    <td>14</td>
                </tr>
                <tr>
                    <td class="firsttd">最后访问时间：</td>
                    <td>
                        2020-01-07 11:38:12
                    </td>
                </tr>
                <tr>
                    <td class="firsttd">生产企业批次号：</td>
                    <td>
                        2019111201
                    </td>
                </tr>
            </table>
        </div>
        <div class="class1">
            <h1 class="redh1">生产商/委托方信息</h1>
            <span id="stateBut1" onClick="$use('class2content','stateBut1')">+&nbsp;收缩</span>
            <!-- 收缩 -->
            <table id="class2content">
                <tr>
                    <td class="firsttd">委托方名称：</td>
                    <td>北京市小仙炖电子商务有限公司</td>
                </tr>
                <tr>
                    <td class="firsttd">委托方地址：</td>
                    <td>北京市朝阳区常营管庄路150号院1号楼十一层1108号</td>
                </tr>

                <tr>
                    <td class="firsttd">生产商名称：</td>
                    <td>北京创喜保健食品（固安）有限公司</td>
                </tr>

                <tr>
                    <td class="firsttd">生产商地址：</td>
                    <td>河北省廊坊市固安县廊涿高速连线以西、固东路以北、大清河经济开发区</td>
                </tr>
            </table>
        </div>
        <div class="class1">
            <h1 class="redh1">经销商信息</h1>
            <span id="stateBut4" onClick="$use('class4content','stateBut4')">+&nbsp;收缩</span>
            <!-- 收缩 -->
            <table id="class4content">
                <tr>
                    <td class="firsttd">经销商名称：</td>
                    <td>北京创喜保健食品（固安）有限公司</td>
                </tr>
                <tr>
                    <td class="firsttd">经销商地址：</td>
                    <td>河北省廊坊市固安县廊涿高速连线以西、固东路以北、大清河经济开发区</td>
                </tr>
                <tr>
                    <td class="firsttd">经销商联系方式：</td>
                    <td>16601066279</td>
                </tr>

            </table>
        </div>
        <div class="class1">

            <h1 class="redh1">原料信息</h1>
            <span id="stateBut4" onClick="$use('class4content','stateBut4')">+&nbsp;收缩</span>
            <!-- 收缩 -->
            <table id="class4content">
                <tr>
                    <td class="firsttd">食用燕窝投料量：</td>
                    <td>5.0克</td>
                </tr>
                <tr>
                    <td class="firsttd">原产国：</td>

                    <td>indonesia</td>
                </tr>
            </table>

        </div>

        <div class="class1">

        </div>

        <!--国外即食的原料信息  -->
        <div class="class1">

        </div>
    </div>
    <div id="active">
        <form id="checkForm1"
              action="/phone/phone!executeProActivity.do?product.id=9110"
              method="post">
            <div id="checkDate">

                <input type="hidden" name="isSubmit" value="yes"/>
                <input type="hidden" name="underline" value="2"/>
                <input type="hidden" name="random" value=""/>
                <input type="hidden" name="qrCode" value="BrkzMdD"/>
                <input type="hidden" name="exCode" value="1911249137551828"/>
                <span
                        style="color: red; right: auto; text-align: center; top: auto; display: block;">
                                        溯源标签无效！请谨慎购买！</span>
                <br/>
                <br/>
                <label>请输入4位溯源标签：</label>
                <!-- 请输入4位溯源标签： -->
                <input type="text" name="scode" id="scode" size="4"
                       maxlength="4"/>
                <input type="submit" id="checkSubmit"
                       style="background: #3079ed; color: white; padding: 5px; border: 0; -webkit-border-radius: 2px;"
                       value="验证真伪"/>
                <input type="hidden" id="changeType" value="0"/> <input
                    type="button" id="changebutton" onclick="changeTypes()"
                    style="background: #3079ed; color: white; padding: 5px; border: 0; -webkit-border-radius: 2px;"
                    value="我要投诉">
            </div>
        </form>
    </div>
    <div id="comment">
        <form action="/phone/phone!proComment.do">
            <input type="hidden" name="product.id" value="9110"/> <input
                type="hidden" name="isSubmit" value="yes"/> <input type="hidden"
                                                                   name="underline" value="3"/> <input type="hidden"
                                                                                                       name="random"
                                                                                                       value=""/> <input
                type="hidden" name="qrCode"
                value="BrkzMdD"/> <input type="hidden" name="exCode"
                                         value="1911249137551828"/> <input
                type="hidden"
                name="userComment.score" id="score2" value="5"/> <input
                type="hidden" name="userComment.type" id="userComment.type"
                value="0"/>
            <table>
                <tr>
                    <td class="firsttd">产品打分：</td>
                    <!-- 产品打分： -->
                    <td>
                        <table id="rating" style="text-align: center">
                            <tr style="color: #468009; size: 35">
                                <td title="很不满意，就1分">★</td>
                                <!-- 很不满意，就1分 -->
                                <td title="不满意，就2分">★</td>
                                <!-- 不满意，就2分 -->
                                <td title="一般啦，给3分">★</td>
                                <!-- 一般啦，给3分 -->
                                <td title="满意，4分给了">★</td>
                                <!-- 满意，4分给了 -->
                                <td title="非常满意，5分拿走">★</td>
                                <!-- 非常满意，5分拿走 -->
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="firsttd">评价内容：</td>
                    <!-- 评论内容： -->
                    <td><textarea name="userComment.content" rows="5" cols="24"></textarea></td>
                </tr>
                <tr>
                    <td class="firsttd">手机号：</td>
                    <!-- 手机号： -->
                    <td><input name="userComment.phoneNo" size="11"
                               maxlength="11"/></td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align: center; font-weight: normal;">
                        <button type="submit">
                            提交评论
                        </button>
                        <!-- 提交评论 -->

                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="complain" style="display: none;">
        <form action="/phone/phone!proComment.do">
            <input type="hidden" name="product.id" value="9110"/> <input
                type="hidden" name="isSubmit" value="yes"/> <input type="hidden"
                                                                   name="underline" value="3"/> <input type="hidden"
                                                                                                       name="random"
                                                                                                       value=""/> <input
                type="hidden" name="qrCode"
                value="BrkzMdD"/> <input type="hidden" name="exCode"
                                         value="1911249137551828"/> <input
                type="hidden"
                name="userComment.score" id="score" value="5"/> <input
                type="hidden" name="userComment.type" id="userComment.type"
                value="1"/>
            <table>
                <tr>
                    <td class="firsttd">投诉原因：</td>
                    <!-- 投诉原因： -->
                    <td><textarea name="userComment.content" rows="5" cols="24"></textarea></td>
                </tr>
                <tr>
                    <td class="firsttd">手机号：</td>
                    <!-- 手机号： -->
                    <td><input name="userComment.phoneNo" size="15"
                               maxlength="15"/></td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align: center; font-weight: normal;">
                        <button type="submit">
                            投诉
                        </button>
                        <!-- 投诉 -->
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <div id="foot">
        <p style="text-align: center;">
            未名严选溯源服务平台
        </p>
        <br><br><br>
    </br>
        <img src="" style="width: 300px;"/>
    </div>
</div>
<script>
    let vue = new Vue({
        el: '#app',
        data: {
            baseForm: {
                pageIndex: 1,
                pageSize: 10,
                sortField: 'id',
                order: 'desc',
                data: Object.assign({}, defaultModel)
            },
            traceData: {},
            model: Object.assign({}, defaultModel),
            ruleValidate: {},

            listLoading: false,
            multipleSelection: [],
        },
        created: function () {
            let id = this.getUrlKey('id');
            console.log(id);
            this.getModel(id);
        },
        filters: {
            dateFormat: function (time) {
                var date = new Date(time);
                var year = date.getFullYear();
                var month = date.getMonth() + 1 < 10 ? "0" + (date.getMonth() + 1) : date.getMonth() + 1;
                var day = date.getDate() < 10 ? "0" + date.getDate() : date.getDate();
                var hours = date.getHours() < 10 ? "0" + date.getHours() : date.getHours();
                var minutes = date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes();
                var seconds = date.getSeconds() < 10 ? "0" + date.getSeconds() : date.getSeconds();
                return year + "-" + month + "-" + day + " " + hours + ":" + minutes + ":" + seconds;
            }
        },
        methods: {
            getUrlKey: function (name) {
                return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, ""])[1].replace(/\+/g, '%20')) || null
            },
            getModel: function (id) {
                let that = this;
                Ajax.request({
                    url: "../h5/getModel/" + id + ".json",
                    async: true,
                    successCallback: function (res) {
                        that.traceData = res.data;
                    }
                });
            },
            getSelectRowIds() {
                let ids = [];
                for (let i = 0; i < this.multipleSelection.length; i++) {
                    ids.push(this.multipleSelection[i].id);
                }
                return ids;
            },
            checkSelected: function () {
                if (this.multipleSelection == null || this.multipleSelection.length < 1) {
                    this.$message({
                        message: '请选择要操作的数据',
                        type: 'warning',
                        duration: 1000
                    });
                    return false;
                }
                return true;
            },

            reload: function (event) {
                this.showList = true;
                this.getList();
                this.handleReset('formValidate');
            },
            dataFormSubmit: function (name) {
                handleSubmitValidate(this, name, function () {
                    vue.saveOrUpdate()
                });
            },
        },
        mounted() {
        }
    });
</script>
</body>
</html>